# Training configuration for Monk Skin Tone Classifier
# SEDS536 Term Project

# Data paths
data:
  train_dir: "training/data/ccv2_balanced/train"
  val_dir: "training/data/ccv2_balanced/val"
  test_dir: "training/data/ccv2_balanced/test"
  num_classes: 10

# Model configuration
model:
  # Options: resnet18, resnet34, resnet50, efficientnet_b0, efficientnet_b2, mobilenet_v3_small
  architecture: "efficientnet_b0"
  pretrained: true
  dropout: 0.3

# Training hyperparameters
training:
  batch_size: 32
  num_epochs: 30
  learning_rate: 0.001
  weight_decay: 0.0001

  # Learning rate scheduler
  scheduler:
    type: "cosine"  # Options: cosine, step, plateau
    # For step scheduler
    step_size: 10
    gamma: 0.1
    # For plateau scheduler
    patience: 3
    factor: 0.5

  # Early stopping
  early_stopping:
    enabled: true
    patience: 7
    min_delta: 0.001

  # Class imbalance handling
  class_weights: "inverse_frequency"  # Options: none, inverse_frequency, effective_samples
  use_oversampling: true

# Data augmentation
augmentation:
  train:
    resize: 256
    crop_size: 224
    horizontal_flip: true
    rotation: 15
    color_jitter:
      brightness: 0.2
      contrast: 0.2
      saturation: 0.2
      hue: 0.1
    normalize:
      mean: [0.485, 0.456, 0.406]
      std: [0.229, 0.224, 0.225]

  val:
    resize: 256
    crop_size: 224
    normalize:
      mean: [0.485, 0.456, 0.406]
      std: [0.229, 0.224, 0.225]

# Output configuration
output:
  checkpoint_dir: "training/checkpoints"
  log_dir: "training/logs"
  save_best_only: true
  save_frequency: 5  # Save every N epochs

# Hardware
hardware:
  device: "auto"  # Options: auto, cuda, cpu
  num_workers: 4
  pin_memory: true

# Reproducibility
seed: 42
